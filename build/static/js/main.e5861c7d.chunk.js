(this.webpackJsonpcrudredux=this.webpackJsonpcrudredux||[]).push([[0],{41:function(e,t,a){e.exports=a(70)},46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),u=(a(46),a(12)),l=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null," ",r.a.createElement(u.b,{to:"/",className:"text-light"},"CRUD React REDUX Rest API axios")),r.a.createElement(u.b,{to:"/productos/nuevo",className:"btn btn-danger nuevo-post d-block d-md-inline-block"},"Nuevo Producto +")))},i=a(3),s=a(13),d=a.n(s),m=a(4),p=a(10),E=a.n(p),b=a(18),O=a(38),f=a.n(O).a.create({baseURL:"http://localhost:4000/"});var R=function(){return{type:"AGREGAR_PRODUCTO",payload:!0}},y=function(e){return{type:"AGREGAR_PRODUCTO_EXITO",payload:e}},v=function(e){return{type:"AGREGAR_PRODUCTO_ERROR",payload:e}};var h=function(){return{type:"COMENZAR_DESCARGA_PRODUCTO",payload:!0}},_=function(e){return{type:"DESCARGA_PRODUCTO_EXITO",payload:e}},A=function(){return{type:"DESCARGA_PRODUCTO_ERROR",payload:!0}};var g=function(e){return{type:"ELIMINAR_PRODUCTO",payload:e}},T=function(){return{type:"ELIMINAR_PRODUCTO_EXITO"}},j=function(){return{type:"ELIMINAR_PRODUCTO_ERROR",payload:!0}};var N=function(e){return{type:"EDITAR_PRODUCTO",payload:e}};var C=function(){return{type:"COMENZAR_EDITAR_PRODUCTO"}},D=function(e){return{type:"EDITAR_PRODUCTO_EXITO",payload:e}},x=function(){return{type:"EDITAR_PRODUCTO_ERROR",payload:!0}},P=function(e){var t=e.producto,a=t.nombre,n=t.precio,c=t.id,o=Object(m.b)(),u=Object(i.f)(),l=function(e){d.a.fire({title:"Esta seguro?",text:"luego no puede modificar los datos!",type:"warning",showCancelButton:!0,confirmButtonColor:"#78C2AD",cancelButtonColor:"#ff5a2b",confirmButtonText:"Si, deseo Eliminar."}).then((function(t){t.value&&o(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(e)),t.prev=1,t.next=4,f.delete("/productos/".concat(e));case 4:a(T()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a(j());case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))}))},s=function(e){u.push("/productos/editar/".concat(e.id)),o(function(e){return function(t){t(N(e))}}(e))};return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("span",{className:"font-weight-bold"}," $ ",n)),r.a.createElement("td",{className:"acciones"},r.a.createElement("button",{type:"button",className:"btn btn-primary mr-2",onClick:function(){return s(t)}},"Editar"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return l(c)}},"Eliminar")))},w=function(){var e=Object(m.b)();Object(n.useEffect)((function(){e(function(){var e=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h()),e.prev=1,e.next=4,f.get("/productos");case 4:a=e.sent,t(_(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(A());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(m.c)((function(e){return e.productos.productos})),a=Object(m.c)((function(e){return e.productos.error})),c=Object(m.c)((function(e){return e.productos.loading}));return r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"text-center my-5"},"Listado de Productos"),a?r.a.createElement("p",{className:"font-weight-bold alert alert-danger text-center mt-4"},"Hubo un Error"):null,c?r.a.createElement("p",null,"cargando... !"):null,r.a.createElement("table",{className:"table table-striped text-center"},r.a.createElement("thead",{className:"bg-primary table-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Acci\xf3n"))),r.a.createElement("tbody",null,0===t.length?"No hay roductos":t.map((function(e){return r.a.createElement(P,{key:e.id,producto:e})})))))},U=a(17);var I=function(e){return{type:"MOSTRAR_ALERTA",payload:e}};var S=function(e){return{type:"OCULTAR_ALERTA",payload:e}},k=function(e){var t=e.history,a=Object(m.b)(),c=Object(m.c)((function(e){return e.productos.error})),o=Object(m.c)((function(e){return e.alerta.alerta})),u=Object(n.useState)(""),l=Object(U.a)(u,2),i=l[0],s=l[1],p=Object(n.useState)(0),O=Object(U.a)(p,2),h=O[0],_=O[1],A=function(e){return a(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(R()),t.prev=1,t.next=4,f.post("/productos",e);case 4:a(y(e)),d.a.fire({title:"Correcto!",text:"Se ingreso con exito el producto",icon:"success",confirmButtonText:"Aceptar"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(v(null)),d.a.fire({title:"Error!",text:"Se a producido un \xc9xito",icon:"error",confirmButtonText:"Aceptar"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"text-center mb-4 font-weight-bold"},"Agregar Nuevo Producto"),o?r.a.createElement("p",{className:o.classes},o.msg):null,r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""===i.trim()||h<=0){a(function(e){return function(t){t(I(e))}}({msg:"ambos campos son obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}else a(function(e){return function(t){t(S(e))}}(null)),A({nombre:i,precio:h}),t.push("/")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre Producto"),r.a.createElement("input",{type:"text",className:"form-control",name:i,onChange:function(e){return s(e.target.value)},placeholder:"Computadora"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Precio Producto"),r.a.createElement("input",{type:"number",className:"form-control",name:h,onChange:function(e){return _(Number(e.target.value))},placeholder:"23000"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100"},"Agregar")),c?r.a.createElement("p",{className:"alert alert-danger p2 mt-4 text-center"},"Hubo un error"):null))))},G=a(22),L=a(2),X=function(){var e=Object(i.f)(),t=Object(n.useState)({nombre:"",precio:""}),a=Object(U.a)(t,2),c=a[0],o=a[1],u=Object(m.b)(),l=Object(m.c)((function(e){return e.productos.productoEditar}));Object(n.useEffect)((function(){if(!l)return null;o(l)}),[l]);var s=function(e){o(Object(L.a)(Object(L.a)({},c),{},Object(G.a)({},e.target.name,e.target.value)))},p=c.nombre,O=c.precio;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"text-center mb-4 font-weight-bold"},"Editar Producto"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),d.a.fire("Buen Trabajo!","Producto Editado con Exito!","success"),u(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(C());try{f.put("/productos/".concat(e.id),e),a(D(e))}catch(n){a(x())}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c)),e.push("/")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre Producto"),r.a.createElement("input",{type:"text",className:"form-control",name:"nombre",value:p,onChange:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Precio Producto"),r.a.createElement("input",{type:"number",className:"form-control",name:"precio",value:O,onChange:s})),r.a.createElement("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100"},"Guardar Cambios"))))))},M=a(11),B=a(39),Z=a(40),H={productos:[],error:null,loading:!1,productoEliminar:null,productoEditar:null},J={alerta:null},V=Object(M.c)({productos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AGREGAR_PRODUCTO":case"COMENZAR_DESCARGA_PRODUCTO":return Object(L.a)(Object(L.a)({},e),{},{loading:t.payload});case"AGREGAR_PRODUCTO_EXITO":return Object(L.a)(Object(L.a)({},e),{},{loading:!1,productos:[].concat(Object(Z.a)(e.productos),[t.payload])});case"AGREGAR_PRODUCTO_ERROR":case"DESCARGA_PRODUCTO_ERROR":case"ELIMINAR_PRODUCTO_ERROR":case"EDITAR_PRODUCTO_ERROR":return Object(L.a)(Object(L.a)({},e),{},{loading:!1,error:t.payload});case"DESCARGA_PRODUCTO_EXITO":return Object(L.a)(Object(L.a)({},e),{},{loading:!1,error:null,productos:t.payload});case"ELIMINAR_PRODUCTO":return Object(L.a)(Object(L.a)({},e),{},{productoEliminar:t.payload});case"ELIMINAR_PRODUCTO_EXITO":return Object(L.a)(Object(L.a)({},e),{},{productos:e.productos.filter((function(t){return t.id!==e.productoEliminar})),productoEliminar:null});case"EDITAR_PRODUCTO":return Object(L.a)(Object(L.a)({},e),{},{productoEditar:t.payload});case"EDITAR_PRODUCTO_EXITO":return Object(L.a)(Object(L.a)({},e),{},{productoEditar:null,productos:e.productos.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOSTRAR_ALERTA":case"OCULTAR_ALERTA":return Object(L.a)(Object(L.a)({},e),{},{alerta:t.payload});default:return e}}}),W=Object(M.e)(V,Object(M.d)(Object(M.a)(B.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var $=function(){return r.a.createElement(u.a,null,r.a.createElement(m.a,{store:W},r.a.createElement(l,null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:w}),r.a.createElement(i.a,{exact:!0,path:"/productos/nuevo",component:k}),r.a.createElement(i.a,{exact:!0,path:"/productos/editar/:id",component:X})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.e5861c7d.chunk.js.map